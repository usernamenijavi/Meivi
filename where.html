<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Where Was Our First Date?</title>

<link rel="stylesheet" href="css/where.css" />

</head>

<body>

<div id="heartsContainer"></div>

<div id="valentineQuestion"><b>Do you remember where our first date was?</b></div>

<div id="bubbleContainer"></div>

<div class="buttonContainer">
  <input type="text" id="answerInput" placeholder="Type your answer here" />
  <button id="enterButton">Enter ðŸ’–</button>
</div>

<div class="hintHeading">Hint:</div>
<img src="itaewon.png" alt="Hint" class="hintImage" id="hintImage" />

<div id="imageModal">
  <img src="" alt="" id="modalImg" />
</div>

<script>

const heartsContainer = document.getElementById("heartsContainer");
function createHeart() {
  const heart = document.createElement("div");
  heart.className = "heart";
  const heartEmojis = ["ðŸ’–","â¤ï¸","ðŸ’˜","ðŸ’ž","ðŸ’•"];
  heart.textContent = heartEmojis[Math.floor(Math.random()*heartEmojis.length)];

  heart.style.left = Math.random() * window.innerWidth + "px";
  heart.style.top = Math.random() * window.innerHeight + "px";
  heart.style.setProperty("--x", (Math.random()-0.5)*200 + "px");
  heart.style.setProperty("--y", (Math.random()-0.5)*200 + "px");
  heart.style.fontSize = (10 + Math.random()*30) + "px";
  heart.style.animationDuration = (5 + Math.random()*5) + "s";

  heartsContainer.appendChild(heart);
  setTimeout(() => heart.remove(), (5 + Math.random()*5)*1000);
}
setInterval(createHeart, 300);


const reactions = ["aww :<<","are you sure?","really??","why? :<<","please? ðŸ¥º","okay this hurts...","ouch :<"];
let clickCount = 0;

const input = document.getElementById("answerInput");
const enterButton = document.getElementById("enterButton");

function checkAnswer() {
  const userAnswer = input.value.trim();

  if (userAnswer.toLowerCase() === "itaewon") {
    document.getElementById("bubbleContainer").innerHTML = "";
    window.location.href = "end.html";
  } else if (userAnswer === "") {
    alert("Please type your answer first!");
  } else {
    const bubble = document.createElement("div");
    bubble.className = "reactionBubble";
    bubble.textContent = clickCount < reactions.length ? reactions[clickCount++] : reactions[reactions.length-1];
    document.getElementById("bubbleContainer").appendChild(bubble);
    setTimeout(() => bubble.remove(), 2500);
    input.value = "";
  }
}

enterButton.addEventListener("click", checkAnswer);
input.addEventListener("keydown", e => { if(e.key==="Enter") checkAnswer(); });


const hintImage = document.getElementById("hintImage");
const modal = document.getElementById("imageModal");
const modalImg = document.getElementById("modalImg");

hintImage.addEventListener("click", () => {
  modal.classList.add("active");
  modalImg.src = hintImage.src;
});

modal.addEventListener("click", () => {
  modal.classList.remove("active");
});
</script>

</body>
</html>
